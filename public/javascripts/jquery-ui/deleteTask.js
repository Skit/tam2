/** * Created by Micro on 18.08.2016. */$( function() {    /* Animation delete func*/    $( "a.del" ).on( "click", function(e) {        e.preventDefault();        var delEl = $(this).closest('tr'); // Task element        var opt = {            delClass: 'redElement',            taskId: delEl.data('task-id'),            taskName: delEl.children('td:nth-child(2)').text(),            postUrl: '/del',            messages: {                success: 'Success',                error: 'Error'            }        };        delEl.addClass(opt.delClass);        $('#taskName').text(opt.taskName); // Insert task name in to modal window message        $( "#dialog-delete" ).dialog({            modal: true,            buttons: {                'Cancel': function() {                    $( this ).dialog( "close" );                },                'Delete': function() {                        if(deleteTask(opt.taskId, opt.postUrl, opt.messages) == 200){                            delEl.remove();                        }                    $( this ).dialog( "close" );                }            },            close: function( event, ui ) {                delEl.removeClass(opt.delClass);            }        });        return false;    });    function deleteTask(id, url, m){        return $(this).ajaxReq({url:url, async: false, data:{id: id}, successText: m.success, errorText: m.error});    }} ); /* End */